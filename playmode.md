<!-- docs/playmode.md -->
## 运行模式

为了方便开发、测试和发布，xasset 提供了以下几种运行模式：

- 仿真模式
- 预加载模式
- 增量模式
- 离线模式

以上几种模式都可以在 Setting 中修改，如下图：

![example-settings](res/example-settings.png)


以下是 Settings 的属性和各个模式的对应：

- OfflineMode 对应离线模式
- ScriptPlayMode.Simulation 仿真模式
- ScriptPlayMode.Preload 预加载模式
- ScriptPlayMode.Incremental 增量模式

### 仿真模式(编辑器)

仿真模式适合平常开发使用，最大的特点是：

- 不用打包
- 不会触发更新

尽管仿真模式是使用编辑器的同步接口加载资源，但是对于异步加载的调用依旧会通过自动分帧技术提供异步实现。

所以，对于异步加载而言，仿真模式是真的逼真。

### 预加载模式(编辑器)

和仿真模式不同，预加载模式需要先打包才能运行。

预加载模式下，会直接使用构建目录最新的构建好的资源进行加载。

预加载模式可以还原真机的 AssetBundle 加载环境，比较适合做性能测试。

预加载模式不会触发版本更新，因为资源始终都是最新的。

### 增量模式

增量模式可以在编辑器把真机的 AssetBundle 加载以及版本更新环境还原。

和其他模式不同，增量模式需要在打包后手动执行以下菜单，把母包的资源复制到 StreamingAssets 下：

- **Assets/Versions/Copy To StreamingAssets**

这样，在启动编辑器的播放器后，在 StreamingAssets 中的资源会直接从其中加载，不在的，如果下载目录下没有，则会直接去服务器下载再加载，有的话，直接从下载目录加载。

### 离线模式

离线模式是一个总开关，可以用来在不修改其他业务代码并且不产生网络连接的情况下，跳过所有更新操作。以下是开启离线模式的代码示例：

```c#
Versions.OfflineMode = false; // 真机上，这行代码的调用放到加载或下载之前即可。
```

注：离线模式可以用在 iOS 的提审包上，使用完整资源出包，然后使用离线模式关闭更新。